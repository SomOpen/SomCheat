import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as t}from"./index.Dy6lLLXr.js";import{C as f,T as C}from"./Other_Icons.DgMV4klP.js";import{F as y}from"./lang_icons.BRR9RHR5.js";function v({children:l,fileName:u=""}){const c=t.useRef(null),[r,m]=t.useState(""),[x,n]=t.useState(e.jsx(f,{color:"#cad5e2"})),[i,s]=t.useState(!1);t.useEffect(()=>{if(c.current){const o=c.current.querySelector("pre");o&&m(o.textContent||"")}},[l]);const d=o=>{const a=document.createElement("textarea");a.value=o,document.body.appendChild(a),a.select();try{document.execCommand("copy"),s(!0)}catch(b){console.error("Fallback copy failed:",b),s(!1)}finally{document.body.removeChild(a)}},p=()=>{if(!r){console.warn("No code block found.");return}navigator.clipboard?navigator.clipboard.writeText(r).then(()=>s(!0)).catch(o=>{console.error("Clipboard API failed, using fallback:",o),d(r)}):d(r)};return t.useEffect(()=>{if(i){n(e.jsx(C,{color:"#05df72"}));const o=setTimeout(()=>{n(e.jsx(f,{color:"#cad5e2"})),s(!1)},2e3);return()=>clearTimeout(o)}},[i]),e.jsxs("div",{ref:c,className:"w-full max-w-full border-2 border-slate-700 shadow-md my-3 dark:border-slate-400/10",children:[e.jsxs("div",{className:"w-full h-[50px] dark:bg-[#0C0C0C] bg-gray-900 border-b border-gray-700 flex items-center p-2",children:[e.jsxs("span",{className:"flex items-center italic text-slate-300 gap-2 flex-1",children:[e.jsx(y,{color:"#62748e",dimension:20})," ",u]}),e.jsx("button",{onClick:p,className:"cursor-pointer",children:x})]}),e.jsx("div",{className:"bg-gray-800 overflow-auto",children:l})]})}export{v as default};
